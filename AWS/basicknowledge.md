#### 루트유저와 IAM 유저
- 만약, 어떤 회사에 개발자와 마케팅 담당자가 있다고 했을때, 개발자는 코드 수정을 담당하고 마케팅 담당자는 sns 계정관리를 담당한다. 마지막으로, 회사의 CEO는 코드수정, SNS 관리를 비롯한 모든 업무를 관리하는 권한이 있다. 이처럼 하나의 aws 계정내에서도 여러 유저가 있을 수 있다. 쉽게 얘기해서 루트 유저는 마스터로서 계정에 관한 모든 권한을 가지고 있고, 각 계정에는 딱 한명의 루트 유저가 있다. 루트 유저는 결제 정보와 같이 주요정보를 변경하거나 계정을 삭제할 수도 있다. 또, 모든 서버의 리소스에 접근 할 수 있다. 반대로 IAM 유저는 딱, 정해진 권한만 담당할 수 있다. IAM user로서 콘솔에 접근하면 비용 및 사용량과 같은 민감한 정보에 접근할 수 없다.

#### 리전
- 우리가 aws에서 빌리는 컴퓨터는 우리 눈앞에 보이지는 않지만 세상에 존재하고 있다. 이렇게 여러대의 컴퓨터가 모여있는 센터를 데이터센터라고 한다. 이렇게 데이터센터가 존재하는 지역을 리전이라고 한다. 우리가 이렇게 서비스를 쓰기 위해서는 리전을 써야하는데, 리전이 서울로 되어있으면 한국에 있는 컴퓨터를 빌리는 것이다. 리전을 선택할 때는 크게 네가지를 고려한다. 
- 우선 첫번째는, 네트워크 전송 속도이다. 서비스나 프로그램을 이용하는 사람과 컴퓨터간의 물리적 거리가 멀어지면 통신 속도가 느려진다. 글로벌 서비스를 운영하는 경우, 각 지역의 리전을 준비해야한다.
- 두번째는, 법 제도적 이유이다. 예시로는 한국의 전자금융감독규정 제 14조 2호이다. 
- 세번째는, 사용하고자 하는 서비스의 차이이다. 새로 출시된 서비스의 경우, 몇몇 리전에 우선도입되고 추후에 도입이 되는 경우가 많다. 
- 마지막으로 고려해야 할 부분은 비용이다. 똑같은 서비스도 리전에 따라 비용이 달라진다.

#### 가용영역
- aws의 각 리전은 세개 이상의 가용영역으로 구성되어 있다. 서울리전의 경우 4개의 가용영역으로 구성되어 있다. 보통 1개에서 3개의 데이터센터를 묶어서 가용영역이라고 한다. 이렇게 물리적으로 분리되어 있기 때문에, 한 지역에서 장애가 발생해도 다른 여러 영역이 영향을 받지가 않는다. 

#### EC2
- 클라우드는 쉽게 생각하면 큰 회사로부터 컴퓨터를 빌린다. AWS EC2는 이러한 개념과 가장 잘 맞아떨어진다. EC2는 Elastic Compute Cloud, 즉 탄력적인 컴퓨팅 자원을 빌렸다가 반납할 수 있는 클라우드 서비스라는 개념이다. EC2에서 우리가 빌리는 가상컴퓨터는 가상머신, 인스턴스라고 표현하다. 즉, EC2 인스턴스를 늘린다라고 하면 빌리는 컴퓨터의 대수를 늘린다라고 생각하면 된다. 그리고 이러한 EC2를 빌릴때, CPU, 메모리 등 우리에게 필요한 스펙의 가상머신(가상컴퓨터,인스턴스)를 빌릴 수 있다. 즉, 이러한 EC2는 데이터 보관, 코드 실행, 서버 구축 등 다양한 용도로 활용하고 빌릴 수 있다. EC2의 가장 대표적인 활용 사례는 서버를 빌리는 것이다. 우리가 집에다가 컴퓨터를 사놓고 직접 서버를 구축하는 것이 아닌 EC2 인스턴스를 빌려서 서버로 만드는 것이다.

- AMI(Amazone Machine Image)는 설계도와 비슷하게 집을 짓듯이, 이러한 운영체제에서 이러한 서비스가 필요해라고 지정을 해 줄수 있다.

- 방화벽 설정은 누가 ec2 인스턴스에 어떻게 접속할 수 있는지 지정하는 것이다. SSH 트래픽 허용은 인스턴스에 원격으로 접속하기 위해 사용하는 프로토콜을 가리킨다. 그리고 옆의 IPV4 주소는 설정에 따라 인스턴스에 접속할 수 있는 IP주소를 제한해 둘 수 있다. 그리고 HTTPS 트래픽 허용과 HTTP 트래픽 허용과 같은 설정도 있다.

- IP주소와 VPC에 대해서 간단히 알아보자면, 컴퓨터 네트워크는 크게 퍼블릭 네트워크와 프라이빗 네트워크로 구분할 수 있다. 퍼블릭 네트워크는 세상 모든 컴퓨터가 접속할 수 있는 네트워크, 쉽게 말하면 그냥 인터넷이다. 인터넷에 연결된 컴퓨터들은 퍼블릭 IP주소를 가지고 있다. 각 퍼블릭 IP주소는 외부에 공개되어 있고 전세계에서 유일하다. 반면 프라이빗 네트워크는 접속이 제한된 네트웤이다. 많은 회사나 기관은 사내컴퓨터만 접속할 수 있는 프라이빗 네트워크를 사용한다. 일반 가정에서도 프라이빗 네트워크를 사용한다. 이러한 프라이빗 네트워크(사설 네트워크)를 사용하면 각 네트워크(사설네트워크) 내에서의 고유한 IP주소를 가진다. 즉 케이스를 생각해보면, 다른 네트워크의 컴퓨터들은 동일한 프라이빗 IP주소를 가져도 상관이 없다. 또 각 컴퓨터의 프라이빗 IP는 정해져있는 게 아니라 네트워크에서 할당해 주기 때문에 같은 컴퓨터도 어떤 네트워크에 연결되어 있는지에 따라 다른 프라이빗 IP주소를 사용한다.

- 그런데 어떤 컴퓨터들은 인터넷과 프라이빗 네트워크에 동시에 연결되어 있기도 하다. 예를 들어 일반 가정에서 쓰는 와이파이 공유기가 그렇다. 우리가 집에서 사용하는 컴퓨터, 노트북, TV 등은 보통 인터넷과 직접 연결되어 있지 않고 공유기를 거쳐서 인터넷과 통신하는데 - 공유기가 중간에서 다리 역할을 한다. 공유기는 프라이빗 IP 주소를 통해 집 안의 다른 장치들과 통신하고, 퍼블릭 IP 주소를 통해 인터넷과 통신한다.

#### VPC(Virtual Private Cloud)
- EC2 인스턴스는 VPC(Virtual Private Cloud)라고 부르는 프라이빗 네트워크에 안에 생성된다. VPC는 '나만 쓰는 네트워크' 정도로 이해하면 된다. VPC 안에는 EC2 인스턴스를 비롯해 내가 생성하고 관리하는 AWS 자원들이 존재한다. 한 VPC 안에 EC2 인스턴스 여러대가 있을 수 있다.

- 우리가 만든 EC2 인스턴스는 AWS가 기본으로 제공하는 VPC안에서 현재 실행중이지만, 필요에 따라 VPC를 추가로 생성할 수도 있고 인스턴스를 어떤 VPC 안에 생성할지 지정해 줄 수 있다. 프로젝트마다 IAM 유저를 만들 수 있었던 것처럼 프로젝트마다 VPC를 만들어 서로 다른 서비스의 네트워크를 분리하는 것도 가능하다. 사실 모든 EC2 인스턴스에 꼭 퍼블릭 IP주소와 프라이빗 IP 주소를 둘 다 할당해야 되는 건 아니다. 퍼블릭 IP 주소 없이 프라이빗 IP 주소만 가지게 설정할 수 있다.

- 우리가 웹사이트를 하나 만든다고 생각해보자. 한 VPC 안에 두 개의 EC2 인스턴스를 만들고, 두번째 인스턴스에는 프라이빗 IP 주소만 할당한다. 첫 번째 인스턴스는 유저의 요청을 처리하는 서버(프론트)로 쓰고, 두 번째 인스턴스에는 유저의 데이터를 저장(백엔드)한다. 이런 구조에서 유저 데이터를 저장하는 두번째 인스턴스에 VPC 외부에서 직접 접근하는 것이 불가능하게 만들어야 한다. 서버 역할을 하는 인스턴스를 거치지 않고는 유저 데이터를 전달받을 수 없기 때문에 유저 데이터가 외부에 노출될 위험이 적다. 

###### 좀 유용한 팁 : EC2를 중지하고서도 볼륨(스토리지) 때문에 비용이 청구될수 있다. 이 경우, 볼륨분리->볼륨삭제 필요

#### 인스턴스에 연결
- EC2인스턴스에 연결할때는 SSH연결을 이용한다. 우선, SSH클라이언트를 열어야 한다. 여기서 말하는 SSH 클라이언트는 내 컴퓨터의 터미널에서 연다. 다음으로는 프라이빗 키 파일을 찾아야 한다. 그래서 프라이빗 키 파일이 있는 경로로 이동한다. 그 다음, 키를 공개적으로 볼 수 없도록 설정해야 한다. 커맨드(명령어)를 이용해 키를 공개적으로 볼 수 없도록 설정할 수 있다. 그 다음, 퍼블릭 DNS를 사용하여 인스턴스에 연결해야 한다. 퍼블릭 DNS의 중간에 나와있는 숫자들은 인스턴스의 퍼블릭 IP주소를 가리킨다. 
- *ssh -i [프라이빗 키] ec2-[유저 네임] [퍼블릭 IP주소]* 커맨드를 통해 퍼블릭DNS로 인스턴스에 연결할 수 있다. 이렇게 연결된 터미널에서 실행되는 활동 및 작업들은 퍼블릭 IP를 통해 연결된 인스턴스에서의 작업 및 활동이다.
- aws에는 'Instance Connect' 라는 손쉬운 방법을 제공해 주고 있다. 이를 이용하면 브라우저 상에서 터미널을 통해 명령어를 실행할 수 있다.

#### 인스턴스 중지와 삭제
- 인스턴스 중지와 삭제는 우선, 공통적으로 서버를 끈다는 공통점이 있지만, 인스턴스 중지는 한다고 해서 인스턴스 내부의 내용이 삭제되지 않는다. 그러나 인스턴스 종료를 하고 나면 인스턴스 내부가 완전히 삭제되어진다.